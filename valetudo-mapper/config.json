{
  "name": "Valetudo Mapper",
  "version": "1.3.0",
  "slug": "valetudomapper",
  "description": "This is a simple companion service for Valetudo RE which generates the map pngs.",
  "url": "https://github.com/Poeschl/Hassio-Addons/tree/master/valetudo-mapper",
  "webui": "http://[HOST]:[PORT:3000]/api/map/image",
  "arch": [
    "armhf",
    "armv7",
    "aarch64",
    "amd64",
    "i386"
  ],
  "startup": "system",
  "boot": "auto",
  "image": "poeschl/hassio-valetudo-mapper-{arch}",
  "ports": {
    "3000/tcp": null
  },
  "ports_description": {
    "3000/tcp": "Port serving the floor plan (Not required for Hass.io Ingress)"
  },
  "ingress": true,
  "ingress_port": 3000,
  "ingress_entry": "api/map/image",
  "panel_title": "Valetudo Floorplan",
  "panel_icon": "mdi:floor-plan",
  "map": ["ssl"],
  "schema": {
    "identifier": "str",
    "topicPrefix": "str",
    "autoconfPrefix": "str",
    "broker_url": "match(^mqtts?://.+:.+@.+$)",
    "caPath": "str?",
    "mapSettings": {
      "colors": {
        "background": "str",
        "background2": "str",
        "floor": "str",
        "obstacle_strong": "str",
        "path": "str",
        "forbidden_marker": "str",
        "forbidden_zone": "str",
        "cleaned_marker": "str",
        "cleaned_zone": "str",
        "cleaned_block": "str"
      },
      "drawPath": "bool",
      "drawCharger": "bool",
      "drawRobot": "bool",
      "drawCurrentlyCleanedZones": "bool",
      "drawCurrentlyCleanedBlocks": "bool",
      "drawForbiddenZones": "bool",
      "drawVirtualWalls": "bool",
      "border": "int(0,)",
      "scale": "int(0,)",
      "gradientBackground": "bool",
      "crop_x1": "int?",
      "crop_x2": "int?",
      "crop_y1": "int?",
      "crop_y2": "int?",
      "autoCrop": "int"
    },
    "mapDataTopic": "str",
    "minMillisecondsBetweenMapUpdates": "int",
    "publishMapImage": "bool",
    "publishMapData": "bool"
  },
  "options": {
    "identifier": "rockrobo",
    "topicPrefix": "valetudo",
    "autoconfPrefix": "homeassistant",
    "broker_url": "mqtt://user:pass@foobar.example",
    "caPath": "",
    "mapSettings": {
      "colors": {
        "background": "#33a1f5",
        "background2": "#046cd4",
        "floor": "#56affc",
        "obstacle_strong": "#a1dbff",
        "path": "white",
        "forbidden_marker": "red",
        "forbidden_zone": "rgba(255, 0, 0, 0.38)",
        "cleaned_marker": "rgba(53, 125, 46, 1.0)",
        "cleaned_zone": "rgba(107, 244, 66, 0.3)",
        "cleaned_block": "rgba(107, 244, 36, 0.34)"
      },
      "drawPath": true,
      "drawCharger": true,
      "drawRobot": true,      
      "drawCurrentlyCleanedZones": false,
      "drawCurrentlyCleanedBlocks": false,
      "drawForbiddenZones": true,
      "drawVirtualWalls": true,
      "border": 2,
      "scale": 4,
      "gradientBackground": true,
      "autoCrop": 20
    },
    "mapDataTopic": "valetudo/rockrobo/map_data",
    "minMillisecondsBetweenMapUpdates": 10000,
    "publishMapImage": true,
    "publishMapData": true
  }
}
